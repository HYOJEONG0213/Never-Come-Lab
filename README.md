<div align="center">

# Never Come Lab
> **전생했는데 또 대학원?!🧑‍🎓**

</div>



## 프로젝트 정보 
- 유니티, 3개월 / 4명
- 특징 : 맵퍼즐을 풀고, 몬스터를 피하거나 처치하여 스테이지들을 깨는 스토리 어드벤처 게임
- 만들래 10분 게임 콘테스트 출품작 [시연 영상](https://www.youtube.com/watch?v=q59HrhljNyg)

## 담당
### Client 
- 전반적인 플레이어 로직(이동, 피격, 무기) 
- 플랫폼(레버, 숨기 기능)
- 사운드
- 씬 재시작 기능 

## 파일 구조
- Animations: 스프라이드, 모델, 애니메이션 컨트롤러
- Audio: 오디오 파일
- Images: 메인 화면 이미지
- MonsterData: 몬스터 속성 관리
- Prefabs: 플레이어/적/오브젝트 프리팹
- Scenes: 게임 씬(메인/메뉴/스테이지 등)
- Scripts: 플레이어·몬스터·무기·퍼즐·UI 등 게임 로직
- Timeline: 컷신

## 패턴흐름도
### 레버
![alt text](<NeverComeLab/Assets/Readme/lever_sequence_diagram.png>)




## 일화

### 싱글톤 패턴 남용

**문제 발생**: player 오브젝트는 씬 전반에서 자주 참조되므로 어디서든 쉽게 접근할 수 있어야겠다고 생각하여, 게임 매니저를 싱글톤 패턴으로 구현하고 보관했습니다. 하지만 씬전환시 게임매니저에 넣어둔 player 오브젝트가 사라지면서 오류가 났습니다. 

**문제 원인**: 싱글톤 오브젝트 하나가 누락되면 종속성이 끊어짐을 알게되었습니다. 즉 싱글톤 남용은 결합도를 증가시키므로 필요한 경우에만 사용해야함을 배웠습니다.

**해결 방법:** 싱글톤 사용 기준을 명확히 정하고 사용하기로 했습니다. 최고 레벨의 게임 상태를 관리하거나 전역적으로 접근해야하는 경우에만 싱글톤을 쓰도록 수정했습니다. 기준에 해당하지 않은 요소들은 따로 직접 찾는 형식으로 바꿔 해결했습니다.

### 레버의 확장성이 필요해짐

**문제 발생**: 맵 퍼즐의 다양화를 위해 레버 동작을 확장해야했습니다. 기존 구현은 하나의 레버가 하나의 벽만 제어하도록 하드코딩되어 있어 새로운 기획 요구를 수용하기 어려워, 기능을 확장하고 재사용성을 높이기 위한 리팩토링을 진행했습니다.

**문제 원인**: 기존 레버는 특정한 벽 한 개에만 동작하도록 고정되어 있어 여러벽을 동시에 제어하고, 한번 당기면 되돌리지 못하고, 일정 시간이 지난 후 원상복구 되는 등의 기능을 추가할 수 없었습니다. 

**해결 방법:** 메시지 기반 상호작용으로 레버가 수신된 메세지에 따라 동작하도록 만들어, 레버와 플레이어 간의 결합도를 낮췄습니다. 레버의 동작 종류를 enum로 분리해 확장성과 가독성을 개선했습니다. 제어대상은 단일객체에서 리스트로 확장해 한번에 여러벽을 제어 가능하게 했습니다.